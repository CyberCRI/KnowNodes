//
   Created with JetBrains WebStorm.
   User: Liad Magen
   Date: 10/12/12
   Time: 18:14
   To change this template use File | Settings | File Templates.

#addKnownodeStep1

div.subheader.row
  div.span23.offset1
    h2.subheader Create new knownode
  div.inputMenu(id="toggleText").span16
    div.connectionWrapper.span16
  form(method="post", enctype="multipart/form-data", ng-submit='submitPost(form)')
    include resourceInput
    include connectionInput
  include resourceInput

form(method="post", enctype="multipart/form-data", ng-submit='submitPost(form)')
    div(class="row-fluid")
        div(class="span6")
            h3 Add a new KnowNode
            div(class='well')
                p
                    label(for='title') Title:
                    input(ng-model='form.knownodeForm.title', name='title', required, autofocus, '255', style='width:100%')
                p
                    label(for='url') URL of the original file:
                    input(ng-model='form.knownodeForm.url', name='url', style='width:100%')
                p
                    label(for='bodyText') Abstract from the file (or what it is about?):
                    textarea(ng-model='form.knownodeForm.bodyText', name='bodyText', rows='5', required, ngMaxlength='255', style='width:100%')
                p
                    label(for='articleFile') PDF File:
                    input(ng-model='file', name='file', type='file', ng-model-instant, multiple, onchange="angular.element(this).scope().setFiles(this)")

                div(id="dropbox", class="dropbox", ng-class="dropClass")
                    span
                        {{dropText}}
                <span class="label label-info">.PDF Files - up to 16Mb</span>
                div(ng-show="files.length")
                div(ng-repeat="file in files.slice(0)")
                    span
                        {{file.webkitRelativePath || file.name}}
                    span(ng-switch="file.size > 1024*1024")
                        span(ng-switch-when="true")
                            {{file.size / 1024 / 1024 | number:2}} MB
                        span(ng-switch-default)
                            {{file.size / 1024 | number:2}} kB

                div(ng-show="progressVisible")
                    div(class="percent")
                        {{progress}}%
                    div(class="progress-bar")
                        div(class="uploaded", ng-style="{'width': progress+'%'}")

        div(class="span5 offset1")
                include addEdge
    div(class="row-fluid")
        div(class="span3 offset5")
            button(type="submit", class='btn btn-large btn-primary') Upload, Save and everything