extends layout

block content
    div(ng-view, style="overflow: hidden").max-height

    script(src='js/lib/jquery-1.9.1.js')
    script(src='//ajax.googleapis.com/ajax/libs/angularjs/1.0.5/angular.js')
    script(src='//ajax.googleapis.com/ajax/libs/jqueryui/1.9.2/jquery-ui.min.js')
    script(src='js/lib/angular/angular-resource.min.js')
    script(src='js/lib/angular/angular-sanitize.min.js')
    script(src='js/lib/bootstrap/bootstrap.js')
    script(src='js/lib/angular-strap/angular-strap.min.js')
    script(src='js/lib/angular-ui/angular-ui.js')
    script(src='js/app.js')
    script(src='js/services.js')
    script(src='js/controllers.js')
    script(src='js/filters.js')
    script(src='js/directives.js')
    script(src='js/lib/moment/moment.js')
    script
        // That was my only method to connect the user from the server session into the client.
        //it's ugly, I know.
        // it could be better if we create a specific service in the server that returns the connected user and the client asks it upon login.
        var KN = KN || {};
        KN.initAngularUser = function () {
            var userString = '#{JSON.stringify(user)}';
            userString = userString.replace(/\&nbsp\;/g, ' ');
            userString = userString.replace(/&quot;/g, '"');
            return userString ? JSON.parse(userString) : null;
        }
    script(src="js/switchButton.js")
    script(src="js/lib/less/less-1.3.3.min.js")
    script(src="js/lib/ui-bootstrap/ui-bootstrap-0.2.0.js")
    script(src="js/lib/tiny_mce/jquery.tinymce.js")
    script(src="js/lib/tiny_mce/tiny_mce_src.js")
    script(src="https://cdn.firebase.com/v0/firebase.js")
    script(src="js/lib/firebase/angularFire.js")
    script(src="js/lib/select2/select2.js")
    script(src="js/lib/angular-ui/select2.js")
    script(src="js/lib/chardin/chardin.js")
    script(src="js/lib/angulartics/angulartics.js")
    script(src="js/lib/angulartics/angulartics-ga.js")
    script
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

      ga('create', 'UA-42832228-1', 'knownodes.com');
      ga('send', 'pageview');

